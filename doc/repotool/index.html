<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>doc/repotool</title>
  <meta name="description" content="DevMine - An open source project to evaluate developers skills based on their open-source contributions.
">
  <meta name="author" content="Devmine team">

  <link rel="shortcut icon" href="/assets/img/favicon.ico">

  <link rel="stylesheet" href="/lib/assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="/lib/assets/css/font-awesome.min.css">
  <link rel="stylesheet" href="/lib/assets/css/github-markdown.css">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="canonical" href="http://devmine.ch/doc/repotool/">
  <link rel="alternate" type="application/rss+xml" title="DevMine" href="http://devmine.ch/feed.xml" />

  <script type="text/javascript" src="/lib/assets/js/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/assets/js/bootstrap.min.js"></script>

  <script type="text/javascript" src="/assets/js/scripts.js"></script>
</head>


  <body>

    <header class="site-header">
  <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/"><img src="/img/devmine-logo.png">&nbsp;DevMine</a>
      </div>

      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li>
            <a href="/project/">Project</a>
          </li>
          <li>
            <a href="/downloads/">Downloads</a>
          </li>
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation<strong class="caret"></strong></a>
            <ul class="dropdown-menu">
              <li>
                <a href="/doc/devmine/">Devmine</a>
              </li>
              <li class="divider"></li>
              <li>
                <a href="/doc/crawld">Crawld</a>
              </li>
              <li>
                <a href="/doc/srctool/">Srctool</a>
              </li>
              <li>
                <a href="/doc/repotool/">Repotool</a>
              </li>
              <li>
                <a href="/doc/srcanlzr/">Srcanlzr</a>
              </li>
              <li>
                <a href="/doc/features/">Features</a>
              </li>
              <li>
                <a href="/doc/api-server/">API-server</a>
              </li>
              <li>
                <a href="/doc/web/">Devmine-web</a>
              </li>
            </ul>
          </li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li>
            <a href="/about/">About</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

</style><span id="forkongithub"><a href="https://github.com/DevMine">Fork me on GitHub</a></span>
<!--  
  <div class="wrapper">
    <a class="site-title" href="/">DevMine</a>
      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
          <a class="page-link" href="/doc/api-server/">doc/API-server</a>
          
        
          
          <a class="page-link" href="/doc/crawld/">doc/crawld</a>
          
        
          
          <a class="page-link" href="/doc/devmine/">doc/DevMine</a>
          
        
          
          <a class="page-link" href="/downloads/">Downloads</a>
          
        
          
          <a class="page-link" href="/doc/features/">doc/features</a>
          
        
          
        
          
          <a class="page-link" href="/index.html">DevMine</a>
          
        
          
        
          
          <a class="page-link" href="/project/">Project</a>
          
        
          
          <a class="page-link" href="/doc/repotool/">doc/repotool</a>
          
        
          
          <a class="page-link" href="/doc/srcanlzr/">doc/srcanlzr</a>
          
        
          
          <a class="page-link" href="/doc/srctool/">doc/srctool</a>
          
        
          
          <a class="page-link" href="/doc/web/">doc/web interface</a>
          
        
      </div>
  </div>
-->
</header>


    <!-- Wrap all page content here -->
    <div id="wrap">
      <div class="container markdown-body">
        <p><span class="pull-right">
<a class="dm-grey" href="https://github.com/DevMine/repotool">View on GitHub <i class="fa fa-github"></i></a>
</span></p>

<h1 id="repotool---a-tool-to-aggregate-source-code-repositories-metadata">repotool - a tool to aggregate source code repositories metadata</h1>

<p><code>repotool</code> is a command line tool that aggregates source code repositories
metadata (such as VCS type, commits and so on) and produces JSON objects out of
it.  It is also able to store repository information into a database.</p>

<p>Currently, only <a href="http://git-scm.com/">git</a> is supported.</p>

<p>Below is an example of the data produced:</p>

<pre><code>{
  "name": "crawld",
  "vcs": "git",
  "clone_url": "https://github.com/DevMine/crawld.git",
  "clone_path": "/home/robin/Hacking/crawld",
  "default_branch": "master",
  "commits": [
    {
      "vcs_id": "ba79fdaf602df3330d34dc9f8c4e581e324dbc92",
      "message": "doc: add missing package documentation\n",
      "author": {
        "name": "Kevin Gillieron",
        "email": "kevin.gillieron@gw-computing.net"
      },
      "committer": {
        "name": "Kevin Gillieron",
        "email": "kevin.gillieron@gw-computing.net"
      },
      "author_date": "2015-01-05T17:14:42+01:00",
      "commit_date": "2015-01-05T17:14:49+01:00",
      "file_changed_count": 4,
      "insertions_count": 6,
      "deletions_count": 0
    },
    {
      "vcs_id": "12ae97c091bb8cdeabf89026eefac428819aaed1",
      "message": "crawlers/github: Add function to check a repository structure.\n\nSome fields of a repository structure are mandatory to us, namely:\n\n- ID\n- Name\n- Language\n- CloneURL\n- Owner (and Owner.Login)\n- Fork\n\nThese fields are required either because their related column in the\ndatabase does not allow NULL values or because they are required for\nfurther API calls. All other fields may be nil.\n",
      "author": {
        "name": "Robin Hahling",
        "email": "robin.hahling@gw-computing.net"
      },
      "committer": {
        "name": "Robin Hahling",
        "email": "robin.hahling@gw-computing.net"
      },
      "author_date": "2015-01-05T16:32:49+01:00",
      "commit_date": "2015-01-05T16:38:41+01:00",
      "file_changed_count": 1,
      "insertions_count": 83,
      "deletions_count": 0
    },
    ...
  ]
}
</code></pre>

<h2 id="installation">Installation</h2>

<p><code>repotool</code> depends on <a href="https://github.com/libgit2/git2go">git2go</a>, which is a
<a href="http://golang.org/">Go</a> binding to <a href="https://libgit2.github.com/">libgit2</a>, a C
library that implements <code>git</code> core methods.</p>

<p><code>git2go</code> needs to be installed as described in their
<a href="https://github.com/libgit2/git2go/blob/master/README.md#installing">README.md</a>
in order to statically link <code>libgit2</code> to the <code>git2go</code> package.</p>

<p>To install <code>repotool</code>, run this command in a terminal, assuming
<a href="http://golang.org/">Go</a> is installed:</p>

<pre><code>go get github.com/DevMine/repotool
</code></pre>

<p>Or you can download a binary for your platform from the DevMine projectâ€™s
<a href="http://devmine.ch/downloads">downloads page</a>.</p>

<h2 id="usage">Usage</h2>

<p><code>repotool</code> produces JSON, provided that you feed it with a path to a source code
repository. By default, informative messages are outputted to <code>stderr</code> whereas
JSON is outputted to <code>stdout</code>. Example usage:</p>

<pre><code>repotool ~/Code/myawesomeproject &gt; myawesomeproject.json
</code></pre>

<p>To insert data into the PostgreSQL database, you need to provide a configuration
file in argument. Simply copy <code>repotool.conf.sample</code> to <code>repotool.conf</code> and
adjust database connection information. See this
<a href="https://github.com/DevMine/repotool/blob/master/db/README.md">README.md</a> for
more information about the database schema. Example usage:</p>

<pre><code>repotool -json=false -db -c repotool.conf ~/Code/myawesomeproject
</code></pre>


      </div>
    </div>

    <footer id="footer">
  <div class="container">
    <p>
      Copyright &copy; 2014-2015 - The DevMine authors
      <a href="https://github.com/orgs/DevMine/people"><i class="fa fa-github"></i></a>
    </p>
    <p>
    <small>Last site update: 2015-01-12 17:24:18 +0100</small>
    </p>
  </div>
</footer>


  </body>

</html>
